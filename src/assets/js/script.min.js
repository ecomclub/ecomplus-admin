/*!
 *  v1.0.0 (http://www.e-com.plus)
 * Copyright 2018 E-Com Club
 * Licensed under the Themeforest Standard Licenses
 */

"use strict";app.config({provide:[],googleApiKey:"AIzaSyDRBLFOTTh2NFM93HpUA4ZrA99yKnCAsto",googleAnalyticsId:"",smoothScroll:!1,saveState:!1}),app.ready(function(){var a,b={},c=function(){for(var a in b)b.hasOwnProperty(a)&&sessionStorage.setItem(a,b[a]);$(window).off("beforeunload"),location.reload()},d=localStorage.getItem("lang");d&&/^[a-z]{2}(_[a-z]{2})?$/.test(d)||(d="pt_br"),a=$('#langs-menu [data-lang="'+d+'"]'),a.addClass("active"),$("#current-lang").find("img").attr("src",a.find("img").attr("src")).next().text(d.split("_")[0].toUpperCase()),$("#langs-menu > a").click(function(){localStorage.setItem("lang",$(this).data("lang")),c()});var e=function(a){return a.hasOwnProperty(d)?a[d]:a.en_us};$('.i18n > *[data-lang="'+d+'"]').show(400,function(){$(".after-i18n").fadeIn()});var f={home:e({en_us:"Home",pt_br:"Início"}),resources:e({en_us:"Resources",pt_br:"Recursos"}),channels:e({en_us:"Sales channels",pt_br:"Canais de venda"}),go_to_store:e({en_us:"Go to store",pt_br:"Ir à loja"}),themes:e({en_us:"Themes",pt_br:"Temas"}),settings:e({en_us:"Settings",pt_br:"Configurações"}),unknown_error:e({en_us:"Unknown error, please try again",pt_br:"Erro desconhecido, por favor tente novamente"})},g=function(a){var b;"object"==typeof a&&null!==a&&(a.hasOwnProperty("user_message")?b=a.user_message[d]:a.hasOwnProperty("message")&&(b=a.message)),void 0!==b?console.log("API Error Code: "+a.error_code):b=f.unknown_error,app.toast(b,{duration:7e3})};if("boolean"==typeof login&&!0===login){!function(a){var b,c=function(){b=["../assets/img/bg/coffee.jpg","../assets/img/bg/notebook.jpg","../assets/img/bg/numbers.jpg","../assets/img/bg/pens.jpg","../assets/img/bg/table.jpg","../assets/img/bg/writer.jpg"]};c();var d=function(){var d=new Image;d.onload=function(){var b=this;$(a).fadeOut(1e3,function(){$(this).css("background-image","url("+b.src+")").fadeIn()})};var e=Math.floor(Math.random()*(b.length-1));d.src=b[e],b.splice(e,1),0===b.length&&c()};d(),setInterval(d,9e3)}("#full-bg"),$("#login-form").submit(function(){if(!$(this).hasClass("ajax")){var a=$("#username").val(),b=md5($("#password").val()),c=$(this);c.addClass("ajax");var d=function(a,b,d){403!==a.status&&console.error(d),g(a.responseJSON),c.removeClass("ajax")};$.ajax({url:"https://api.e-com.plus/v1/_login.json?username",method:"POST",dataType:"json",headers:{"X-Store-ID":1},data:JSON.stringify({username:a,pass_md5_hash:b})}).done(function(a){console.log("Logged");var b=a.store_id;localStorage.setItem("store_id",b),$.ajax({url:"https://api.e-com.plus/v1/_authenticate.json",method:"POST",dataType:"json",headers:{"X-Store-ID":b},data:JSON.stringify({_id:a._id,api_key:a.api_key})}).done(function(a){sessionStorage.setItem("my_id",a.my_id),sessionStorage.setItem("access_token",a.access_token),sessionStorage.setItem("expires",a.expires),window.location="/"}).fail(d)}).fail(d)}})}else{var h=localStorage.getItem("store_id");if(b.my_id=b.access_token=null,h>0&&(b.my_id=sessionStorage.getItem("my_id"),b.access_token=sessionStorage.getItem("access_token")),!b.my_id||!b.access_token)return void(window.location="/pages/login.html");console.log("Hello #"+b.my_id),sessionStorage.removeItem("my_id"),sessionStorage.removeItem("access_token"),$(window).on("beforeunload",function(a){var b="Are you sure you want to leave?";return a.returnValue=b,b}),$(window).on("hashchange",function(){console.log(window.location.hash)});var i={products:{label:{en_us:"Products",pt_br:"Produtos"},icon:"tags"},orders:{label:{en_us:"Orders",pt_br:"Pedidos"},icon:"rocket"},brands:{label:{en_us:"Brands",pt_br:"Marcas"},icon:"trademark"},categories:{label:{en_us:"Categories",pt_br:"Categorias"},icon:"bookmark"},collections:{label:{en_us:"Collections",pt_br:"Coleções"},icon:"th-large"},grids:{label:{en_us:"Grids",pt_br:"Grades"},icon:"filter"},customers:{label:{en_us:"Customers",pt_br:"Clentes"},icon:"users"},carts:{label:{en_us:"Carts",pt_br:"Carrinhos"},icon:"shopping-cart"},authentications:{label:{en_us:"Users",pt_br:"Usuários"},icon:"id-card"}};!function(){var a="";for(var b in i)i.hasOwnProperty(b)&&(a+='<li class="menu-item"><a class="menu-link" href="/#/resources/'+b+'"><span class="icon fa fa-'+i[b].icon+'"></span><span class="title">'+e(i[b].label)+"</span></a></li>");var c='<li class="menu-item"><a class="menu-link" href="/#/"><span class="icon fa fa-home"></span><span class="title">'+f.home+'</span></a></li><li class="menu-item"><a class="menu-link" href="javascript:;"><span class="icon fa fa-database"></span><span class="title">'+f.resources+'</span><span class="arrow"></span></a><ul class="menu-submenu">'+a+'</ul></li><li class="menu-item"><a class="menu-link" href="/#/apps"><span class="icon fa fa-puzzle-piece"></span><span class="title">Apps</span></a></li><li class="menu-item"><a class="menu-link" href="/#/settings"><span class="icon fa fa-cogs"></span><span class="title">'+f.settings+'</span></a></li><li class="menu-category">'+f.channels+"</li>";$("#sidebar").append(c),$(".sidebar-toggler").is(":visible")&&sidebar.unfold()}();!function(){var a=$("#sidebar");a.find(".li-channel").remove();for(var b=0;b<1;b++){var c="/#/channels/channel_id",d='<li class="menu-item li-channel"><a class="menu-link" href="javascript:;"><span class="icon fa fa-shopping-bag"></span><span class="title">Channel name</span><span class="arrow"></span></a><ul class="menu-submenu"><li class="menu-item"><a class="menu-link" href="https://google.com" target="_blank"><span class="icon fa fa-eye"></span><span class="title">'+f.go_to_store+'</span></a></li><li class="menu-item"><a class="menu-link" href="'+c+'/themes"><span class="icon fa fa-paint-brush"></span><span class="title">'+f.themes+'</span></a></li><li class="menu-item"><a class="menu-link" href="'+c+'/settings"><span class="icon fa fa-wrench"></span><span class="title">'+f.settings+"</span></a></li></ul></li>";a.append(d)}}(),$("#dashboard").fadeIn(),"#/"===window.location.hash?$(window).trigger("hashchange"):window.location="/#/"}});